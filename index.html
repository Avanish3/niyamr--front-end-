

<!DOCTYPE html>
<html>
<head>
  <title>PDF Checker</title>
</head>
<body>

<h2>Upload PDF</h2>
<input type="file" id="pdf" accept="application/pdf">

<h3>Enter 3 Rules</h3>
<input id="rule1" placeholder="Rule 1"><br><br>
<input id="rule2" placeholder="Rule 2"><br><br>
<input id="rule3" placeholder="Rule 3"><br><br>

<button onclick="checkPDF()">Check Document</button>

<h3>Result:</h3>
<pre id="output"></pre>

<script>
async function checkPDF() {
  
  const pdf = document.getElementById("pdf").files[0];
  if (!pdf) {
    alert("Upload a PDF first");
    return;
  }

  const rules = [
    document.getElementById("rule1").value,
    document.getElementById("rule2").value,
    document.getElementById("rule3").value
  ];

  const form = new FormData();
  form.append("pdf", pdf);
  form.append("rules", JSON.stringify(rules));

  try {
    const res = await fetch("https://niyamr-back-end-1.onrender.com/check", {
      method: "POST",
      body: form
    });

    const data = await res.json();
    document.getElementById("output").textContent = JSON.stringify(data, null, 2);

  } catch (err) {
    document.getElementById("output").textContent = "Error: " + err.message;
  }
}
</script>

</body>
</html>

